"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[990],{7990:function(e,t,r){r.r(t);var l=r(5893),n=r(7294),a=r(1284),s=r(4929),o=r(9404),c=r(363),i=r(3991),d=r(658),p=r(3626),g=r(6920),u=r(9229),h=r(2954),m=r(8289);t.default=()=>{let[e,t]=(0,n.useState)(""),[r,x]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[v,w]=(0,n.useState)([]),y=(0,n.useRef)(null),j=(0,n.useRef)(null),C=(0,n.useRef)(null),N=e=>{let t=e,r=[];t=t.replace(/<table[^>]*>[\s\S]*?<\/table>/gi,e=>{let t=e.replace(/ class="[^"]*"/g,"").replace(/ style="[^"]*"/g,"").replace(/(<table[^>]*)>/i,'$1 class="wp-table">').replace(/<td[^>]*>/g,"<td>").replace(/<th[^>]*>/g,"<th>").replace(/<tr[^>]*>/g,"<tr>").replace(/<tbody[^>]*>/g,"<tbody>").replace(/<thead[^>]*>/g,"<thead>");return r.push(t),"%%TABLE".concat(r.length-1,"%%")});let l=[];return t=(t=t.replace(/<a[^>]*href="([^"]*)"[^>]*>(.*?)<\/a>/g,(e,t,r)=>(l.push('<a href="'.concat(t,'">').concat(r,"</a>")),"%%LINK".concat(l.length-1,"%%")))).replace(/<span[^>]*>(\s*)<\/span>/g,"$1").replace(/<span[^>]*>/g,"").replace(/<\/span>/g,"").replace(/<font[^>]*>/g,"").replace(/<\/font>/g,"").replace(/ class="[^"]*"/g,"").replace(/ style="[^"]*"/g,"").replace(/ id="[^"]*"/g,"").replace(/ data-[^=]*="[^"]*"/g,"").replace(/<p[^>]*>/g,"<p>").replace(/<strong>/g,"<b>").replace(/<\/strong>/g,"</b>").replace(/<em>/g,"<i>").replace(/<\/em>/g,"</i>").replace(/<h([1-6])[^>]*>([\s\S]*?)<\/h\1>/g,(e,t,r)=>{let l=r.replace(/<b>/g,"").replace(/<\/b>/g,"").replace(/<strong>/g,"").replace(/<\/strong>/g,"").replace(/<i>/g,"").replace(/<\/i>/g,"").replace(/<em>/g,"").replace(/<\/em>/g,"").replace(/<u>/g,"").replace(/<\/u>/g,"").replace(/<span[^>]*>/g,"").replace(/<\/span>/g,"").trim();return"<h".concat(t,">").concat(l,"</h").concat(t,">")}).replace(/&nbsp;/g," ").replace(/\s+/g," ").replace(/<p>\s*<\/p>/g,"").replace(/<b>\s*<\/b>/g,"").replace(/<i>\s*<\/i>/g,"").replace(/<u>\s*<\/u>/g,"").trim(),r.forEach((e,r)=>{t=t.replace("%%TABLE".concat(r,"%%"),e)}),l.forEach((e,r)=>{t=t.replace("%%LINK".concat(r,"%%"),e)}),t},k=(0,a.jE)({extensions:[s.Z,o.ZP.configure({openOnClick:!0}),c.ZP.configure({resizable:!1,HTMLAttributes:{class:"wp-table"}}),i.Z,p.Z,d.Z],content:"",immediatelyRender:!1,onUpdate:e=>{let{editor:r}=e,l=N(r.getHTML());t(l),T&&T.commands.setContent(l),w([])}}),T=(0,a.jE)({extensions:[s.Z,o.ZP.configure({openOnClick:!0}),c.ZP.configure({resizable:!1,HTMLAttributes:{class:"wp-table"}}),i.Z,p.Z,d.Z],content:"",editable:!1,immediatelyRender:!1}),S=e=>{if(!C.current)return;let t=e.scrollHeight,r=v.map(e=>{let{start:r,end:l}=e;return'<div \n        class="absolute bg-green-500 w-full transition-all duration-300" \n        style="top: '.concat(r/t*100,"%; height: ").concat((l-r)/t*100,'%;">\n      </div>')});C.current.innerHTML=r.join("")},Z=()=>{var e;let t=window.getSelection();if(!t||t.isCollapsed)return null;let l=r?j.current:null===(e=y.current)||void 0===e?void 0:e.querySelector(".ProseMirror");if(!l)return null;let n=t.getRangeAt(0);if(!l.contains(n.startContainer)||!l.contains(n.endContainer))return null;if(r)return t.toString();{let e=document.createElement("div");return e.appendChild(n.cloneContents()),N(e.innerHTML)}},L=e=>{let t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="-9999px",t.style.clip="rect(0, 0, 0, 0)",t.innerHTML=e,document.body.appendChild(t);let r=window.getSelection(),l=document.createRange();l.selectNodeContents(t),null==r||r.removeAllRanges(),null==r||r.addRange(l);try{document.execCommand("copy")}catch(e){console.error("Failed to copy",e)}null==r||r.removeAllRanges(),document.body.removeChild(t)},E=(0,n.useCallback)(t=>{var l;let n=window.getSelection(),a=r?j.current:null===(l=y.current)||void 0===l?void 0:l.querySelector(".ProseMirror");if(!a)return;let s=e,o=Z();if(o){s=o;let e=n.getRangeAt(0).getClientRects();if(e.length>0){let t=a.getBoundingClientRect(),r=e[0].top-t.top+a.scrollTop,l=e[e.length-1].bottom-t.top+a.scrollTop;w(e=>[...e,{start:r,end:l}]),S(a)}t&&(t.preventDefault(),L(s))}b(!0),setTimeout(()=>b(!1),2e3)},[e,r]),R=(0,n.useCallback)(()=>{L(Z()||e),E()},[e,r,E]),M=(0,n.useCallback)(()=>{k&&(k.commands.clearContent(),T&&T.commands.clearContent(),t(""),w([]),C.current&&(C.current.innerHTML=""))},[k,T]);return(0,n.useEffect)(()=>{var e;let t=r?j.current:null===(e=y.current)||void 0===e?void 0:e.querySelector(".ProseMirror");t&&S(t)},[r,v]),(0,n.useEffect)(()=>{let e=e=>{if((e.metaKey||e.ctrlKey)&&"c"===e.key){var t;let l=r?j.current:null===(t=y.current)||void 0===t?void 0:t.querySelector(".ProseMirror");if(!l)return;let n=window.getSelection();if(n&&!n.isCollapsed){let t=n.getRangeAt(0);l.contains(t.startContainer)&&l.contains(t.endContainer)&&E(e)}}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[E,r]),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 -mb-48",children:[(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden transition-all duration-200 hover:shadow-2xl",children:[(0,l.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-blue-500 p-4",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Original Text"}),(0,l.jsxs)("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors",children:[(0,l.jsx)(g.Z,{size:16}),"Clear"]})]})}),(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)("div",{className:"editor-container prose max-w-none border border-gray-200 rounded-lg p-4 min-h-[400px] focus-within:border-indigo-500 transition-colors",children:(0,l.jsx)(a.kg,{editor:k,className:"h-full"})})})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden transition-all duration-200 hover:shadow-2xl",children:[(0,l.jsx)("div",{className:"bg-gradient-to-r from-emerald-500 to-green-500 p-4",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold text-white",children:["Clean Text",(0,l.jsx)("span",{className:"block text-sm font-normal text-white/80",children:"Select text to copy specific parts"})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)("button",{onClick:()=>x(!r),className:"flex items-center gap-2 px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors",children:[(0,l.jsx)(u.Z,{size:16}),r?"Text View":"HTML View"]}),(0,l.jsxs)("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ".concat(f?"bg-green-600 text-white":"bg-white text-green-600 hover:bg-green-50"),children:[f?(0,l.jsx)(h.Z,{size:16}):(0,l.jsx)(m.Z,{size:16}),f?"Copied!":"Copy All"]})]})]})}),(0,l.jsxs)("div",{className:"p-6 relative",children:[(0,l.jsx)("div",{className:"absolute right-4 top-6 bottom-6 w-2 bg-red-200 rounded-full overflow-hidden",children:(0,l.jsx)("div",{ref:C,className:"relative w-full h-full"})}),r?(0,l.jsx)("pre",{ref:j,className:"bg-gray-50 p-4 rounded-lg overflow-x-auto whitespace-pre-wrap min-h-[400px] border border-gray-200 text-sm font-mono mr-4",children:e||"Clean HTML will appear here..."}):(0,l.jsx)("div",{ref:y,className:"prose max-w-none border border-gray-200 rounded-lg p-4 min-h-[400px] mr-4",children:(0,l.jsx)(a.kg,{editor:T})})]})]})]})}}}]);